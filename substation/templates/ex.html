<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Form</title>
    <style>
        .form-section {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Electrical Setup Form</h1>
    <form id="dynamicForm">
        <!-- Number of Incoming Lines -->
        <div class="form-section">
            <label for="incomingLines">Number of Incoming Lines:</label>
            <input type="number" id="incomingLines" name="incomingLines" min="0">
            <button type="button" onclick="generateFields('incomingLines', 'incomingLinesSection', 'Incoming Line')">Add Incoming Lines</button>
        </div>
        <div id="incomingLinesSection"></div>

        <!-- Number of Transformers -->
        <div class="form-section">
            <label for="transformers">Number of Transformers:</label>
            <input type="number" id="transformers" name="transformers" min="0">
            <button type="button" onclick="generateFields('transformers', 'transformersSection', 'Transformer')">Add Transformers</button>
        </div>
        <div id="transformersSection"></div>

        <!-- Number of Outgoing Feeders -->
        <div class="form-section">
            <label for="outgoingFeeders">Number of Outgoing Feeders:</label>
            <input type="number" id="outgoingFeeders" name="outgoingFeeders" min="0">
            <button type="button" onclick="generateFields('outgoingFeeders', 'outgoingFeedersSection', 'Outgoing Feeder')">Add Outgoing Feeders</button>
        </div>
        <div id="outgoingFeedersSection"></div>

        <!-- Submit Button -->
        <div>
            <button type="submit">Submit</button>
        </div>
    </form>

    <script>
        function generateFields(countId, sectionId, labelBase) {
            const count = document.getElementById(countId).value;
            const section = document.getElementById(sectionId);

            // Clear any existing fields
            section.innerHTML = '';

            // Generate new fields based on the number provided
            for (let i = 1; i <= count; i++) {
                const label = document.createElement('label');
                label.innerText = `${labelBase} ${i} Title: `;

                const input = document.createElement('input');
                input.type = 'text';
                input.name = `${labelBase.toLowerCase().replace(' ', '_')}_title_${i}`;

                const br = document.createElement('br');

                section.appendChild(label);
                section.appendChild(input);
                section.appendChild(br);
            }
        }
    </script>
</body>
</html>
